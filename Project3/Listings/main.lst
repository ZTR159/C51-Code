C51 COMPILER V9.60.7.0   MAIN                                                              04/26/2024 00:52:02 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\main
                    -.lst) OBJECT(.\Objects\main.obj)

line level    source

   1          #include <REGX51.H>
   2          #include "Timer0.h"
   3          #include "Timer1.h"
   4          #include "Delay.h"
   5          #include "MatrixKey.h"
   6          int i=0;
   7          int press=0;
   8          char dig[]={0x3f, 0x06, 0x5b, 0x4f,0x66, 0x6d, 0x7d, 0x07,0x7f, 0x6f, 0x77, 0x7c,0x39, 0x5e, 0x79, 0x71};
   9          char show[]={0,0,0,0,0,0,0,0};
  10          void main()
  11          {
  12   1      //      Timer0_Init();
  13   1              Timer1_Init();
  14   1              P2=0x00;
  15   1              P0=0x3f;
  16   1              while(1)
  17   1              {
  18   2                      char key=MatrixKey();
  19   2                      if(key)
  20   2                      {
  21   3                              
  22   3      
  23   3                                      int tmp=7;
  24   3                                      while(tmp>=0)
  25   3                                      {
  26   4                                              show[tmp]=show[tmp-1];
  27   4                                              tmp--;
  28   4                                      }
  29   3      
  30   3      
  31   3                              show[0]=dig[key];
  32   3                              press++;
  33   3                              if(press>7)
  34   3                                      press=0;
  35   3                      }
  36   2                      
  37   2              }
  38   1      }
  39          
  40          //unsigned int count0=0;
  41          //void Timer0_LED()     interrupt 1
  42          //{
  43          //      TL0 = 0x18;                             //设置定时初始值
  44          //      TH0 = 0xFC;                             //设置定时初始值
  45          //      count0++;
  46          //      if(count0%200==0)
  47          //              P3_0=~P3_0;
  48          //      if(count0%300==0)
  49          //              P3_1=~P3_1;
  50          //      if(count0%500==0)
  51          //              P3_2=~P3_2;
  52          //      if(count0%1000==0)
  53          //              P3_3=~P3_3;
  54          //      if(count0==3000)
C51 COMPILER V9.60.7.0   MAIN                                                              04/26/2024 00:52:02 PAGE 2   

  55          //              count0=0;
  56          //}
  57          
  58          unsigned int count1=0;
  59          
  60          void Timer1()   interrupt 3
  61          {
  62   1              TL1 = 0x18;                             //设置定时初始值
  63   1              TH1 = 0xFC;                             //设置定时初始值
  64   1              count1++;
  65   1              if(count1==5)
  66   1              {
  67   2                      count1=0;
  68   2                      P2--;
  69   2                      P0=0;
  70   2                      P0=show[i];
  71   2                      i++;
  72   2                      if(i>7)
  73   2                              i=0;
  74   2                      if(P2<0)
  75   2                              P2=0x07;
  76   2              }
  77   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    177    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     30       3
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
